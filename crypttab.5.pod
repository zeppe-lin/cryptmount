=pod

=encoding utf-8

=head1 NAME

crypttab - static information about dm-crypt filesystems

=head1 SYNOPSIS

/etc/crypttab

=head1 DESCRIPTION

The file F<crypttab> contains descriptive information about the
encrypted volumes the system can mount.  F<crypttab> is intended to be
read by L<cryptmount(8)>, and only written to by human administrators.
Each C<volume> is described on a separate line by four fields.  Fields
are separated by whitespace.  Empty lines and lines beginning with a
C<#> are ignored.

=head2 B<The first field> (I<name>).

This field describes the name of the C<volume> which will appear at
B</dev/mapper/>I<name>.  This must be a plain filename without any
directory components.

=head2 B<The second field> (I<device>).

The field describes an absolute path, UUID, PARTUUID, or LABEL to a
device or file which will be mapped to B</dev/mapper/>I<name>.

=head2 B<The third field> (I<key>).

	key := - | keydevice[[:fstype] :keyfile]

This field may be blank or a B<-> for interactive passwords.
I<keydevice> may be an absolute path, UUID, PARTUUID, or LABEL to a
device or file which contains the passphrase.  If I<keyfile> (and
I<fstype>) are given, I<keydevice> will be mounted if it isn't
already.  I<keyfile> is an absolute path relative to the root of the
file system on I<keydevice>.

For compatibility with other formats, B<ASK> and B<none> may be used in
place of B<-> and B<SWAP> is an idiom for B</dev/urandom> and the
B<swap> option.  See L<OPTIONS>.

B<NOTE!> A literal password in this field is B<not> supported.

=head2 B<The fourth field> (I<options>)

	options := key[=value] | %tag | options,options

The I<options> field is a comma separated list.  It is described in
detail below.

For compatibility with other formats, if the first character is B<->
then the entire field is interpreted as a literal command line for
L<cryptsetup(8)>.

Most options have a one-to-one correspondence to L<cryptsetup(8)> command
line options and are simply reformatted.  For example to use
B<cryptsetup --cipher/-c> C<cipher> the options B<cipher>=C<cipher> or
B<c>=C<cipher> may be used.

Other options which are used by L<cryptmount(8)> are:

=over 8

=item B<swap>

Run L<mkswap(8)> on B</dev/mapper/>I<name>.

=item B<tmp>[=I<fs>]

Run L<mkfs(8)> with the file system type of I<fs> on
B</dev/mapper/>I<name>.  The default I<fs> is B<ext4>.

=item B<noauto>

Do not automatically map this C<volume>.

=item B<size>=I<size>

See L<cryptsetup(8)>'s B<--key-size>.  Other formats for F<crypttab>
use I<size> for the amount of bytes to read from I<key>.

=item B<device-size>=I<size>

See L<cryptsetup(8)>'s B<--size>.  This accounts for the quirk with
I<size>.

=item B<%>I<tag>

Tags can be used to include or exclude a group of volumes when running
L<cryptmount(8)>.  Additionally, B<cryptmount> automatically adds to
C<volumes>, with a key of B</dev/urandom>, a B<%random> tag.  This tag
may be used by the initscripts to delay the mapping of these volumes
until after the random seed has been restored during boot.

=back

=head1 SEE ALSO

L<cryptmount(8)>, L<cryptsetup(8)>

=head1 AUTHORS

Matt Monaco <L<dgbaley27@0x01b.net>>

=cut

# vim: cc=72 tw=70
# End of file.
